<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/></head><body><h1 id="DCOO201301GoFTrabalhodeImplementao">DCOO 2013-01 &#8211; GoF &#8211; Trabalho de Implementação</h1><h2 id="ndice">Índice</h2><ol class="toc" style="list-style: none;"><li><a href="#DCOO201301GoFTrabalhodeImplementao">DCOO 2013-01 - GoF - Trabalho de Implementação</a><ol style="list-style: none;"><li><a href="#ndice">Índice</a></li><li><a href="#CreationalPatterns">Creational Patterns </a></li><li><a href="#StructuralPatterns">Structural Patterns</a></li><li><a href="#Trabalho3PARTE1ImplementaodoFactoryMethod">Trabalho 3 - PARTE 1 - Implementação do Factory Method</a><ol style="list-style: none;"><li><a href="#ListadeTarefas">Lista de Tarefas</a></li></ol></li><li><a href="#Trabalho3PARTE2ImplementaodoPadroSingleton">Trabalho 3 - PARTE 2 - Implementação do Padrão Singleton</a><ol style="list-style: none;"><li><a href="#ListadeTarefas2">Lista de Tarefas</a></li><li><a href="#RestriesTcnicas">Restrições Técnicas</a></li></ol></li><li><a href="#Trabalho3PARTE3ImplementaodoProxy">Trabalho 3 - PARTE 3 - Implementação do Proxy</a><ol style="list-style: none;"><li><a href="#ListadeTarefas3">Lista de Tarefas</a></li><li><a href="#RestriesTcnicas2">Restrições Técnicas</a></li></ol></li><li><a href="#NotaseReferncias">Notas e Referências</a></li></ol></li></ol><h2 id="CreationalPatterns">Creational Patterns </h2><ul><li><strong>Singleton</strong></li><li><strong>Factory Method</strong></li></ul><h2 id="StructuralPatterns">Structural Patterns</h2><ul><li>Facade</li><li><strong>Proxy</strong></li><li>Decorator</li></ul><h2 id="Trabalho3PARTE1ImplementaodoFactoryMethod">Trabalho 3 &#8211; PARTE 1 &#8211; Implementação do Factory Method</h2><p>O trabalho será refatorar um modelo de cálculo representado abaixo:</p><p><img border="0" src="trabalho_factory_method.png"/> </p><p>Neste modelo deve ser aplicafo o padrão <em>GOF FACTORY METHOD</em> resultando no modelo abaixo:</p><p><img border="0" src="trabalho_factory_method2.png"/> </p><h3 id="ListadeTarefas">Lista de Tarefas</h3><p>O trabalho deve ser implementado usando o MAVEN e O GIT, apresentando o histórico de modificações. As tarefas nesta ordem são sugeridas, mas não restritivas, desde que demonstrem a evolução gradual do exercício</p><ul><li><strong>T001</strong> - Modelar Dominio e Classes de Teste</li><li><strong>T002</strong> - Criar Classe Produto <code>CalculoICMS</code></li><li><strong>T003</strong> - Refatorar Classe <code>CalculoICMSRS</code> </li><li><strong>T004</strong> - Refatorar Classe <code>CalculoICMSSC</code></li><li><strong>T005</strong> - Refatorar Classe <code>CalculoICMSPR</code></li><li><strong>T006</strong> - Criar Classe <code>ICMSFactory</code></li><li><strong>T007</strong> - Refatorar Classe <code>NotaFiscal</code></li></ul><p>Obs.: Cada tarefa deve ser commitada com código compilado e testado</p><h2 id="Trabalho3PARTE2ImplementaodoPadroSingleton">Trabalho 3 &#8211; PARTE 2 &#8211; Implementação do Padrão Singleton</h2><p>Acople ao sistema um <strong>Gerador de Número de Notas Fiscais</strong>. O número da nota deve ser persistido em arquivo. Conforme a imagem abaixo:</p><p><img border="0" src="trabalho_factory_method3.png"/> </p><h3 id="ListadeTarefas2">Lista de Tarefas</h3><ul><li><strong>T008</strong> - Implementar a classe <code>GeradorNotaFiscalSingleton</code> usando as classes da API java <code>AtomicInteger</code> e <code>ObjectOutputStream</code> e a classe <code>IOUtils</code> da biblioteca <code>commons-io</code></li><li><strong>T009</strong> - Incorporar o gerador de código no construtor da classe <code>NotaFiscal</code></li></ul><h3 id="RestriesTcnicas">Restrições Técnicas</h3><ul><li>Utilize a biblioteca IOUtils via Maven <sup class="footnote"><a href="#___fn2">2</a></sup></li><li>Implemente Testes Unitários</li><li>Utilize a classe AtomicInteger da API Java <sup class="footnote"><a href="#___fn4">4</a></sup></li><li>Crie no nível do projeto uma pasta <code>${projectdir}/DB</code> que conterá o arquivo de sequencia</li></ul><h2 id="Trabalho3PARTE3ImplementaodoProxy">Trabalho 3 &#8211; PARTE 3 &#8211; Implementação do Proxy</h2><p>Foi definido pelo cliente que o Módulo de Cálculo de ICMS deve suportar a escrita de LOGS Diários para cada operação.</p><p>Cada arquivo deve ter o nome conforme o seguinte padrão:</p><pre><code>YYYY-MM-DD-{UF}.log
</code></pre><p>O conteúdo do arquivo são as operações de cálculo realizadas no dia correspondentes a cada estado no formato:</p><pre><code>{NumNotaXXX}-YYYY-MM-DD-{MetodoCalculo}-{TOTAL}-{Prod1(Cod1, Preco1), Prod2(Cod2, Preco2), ProdN(CodN, PrecoN)}
{NumNotaXXY}-YYYY-MM-DD-{MetodoCalculo}-{TOTAL}-{Prod1(Cod1, Preco1), Prod2(Cod2, Preco2), ProdN(CodN, PrecoN)}
</code></pre><p><strong>Não deverá ter nenhum código de log na classe <code>NotaFiscal</code>.</strong> A lógica de gravação de logs em arquivo deve ser posta na classe <code>NotaFiscalLogProxy</code> e os registros e arquivos de log devem ser salvos na pasta   </p><p><img border="0" src="trabalho_factory_method4.png"/> </p><h3 id="ListadeTarefas3">Lista de Tarefas</h3><ul><li><strong>T010</strong> -  Extrair a interface <code>NotaFiscalOperacoes</code>  e implementar o proxy <code>NotaFiscalLogProxy</code> com a lógica de registro de cálculos.</li></ul><h3 id="RestriesTcnicas2">Restrições Técnicas</h3><ul><li>Utilize a biblioteca IOUtils via Maven <sup class="footnote"><a href="#___fn2">2</a></sup></li><li>Implemente Testes Unitários</li><li>Utilize a API IOUTils para testar o conteúdo dos arquivos de log <code>${projectdir}/DB</code></li></ul><h2 id="NotaseReferncias">Notas e Referências</h2><p id="___fn1" class="footnote"><sup>1</sup> <a href="file:///F:/reference/books/Design/refactoring/Joshua_Kerievsky(2004)_-_Refactoring.to_Patterns_-_Addison_Wesley.chm">Joshua Kerievsky(2004) -  Refactoring to Patterns</a> ( <a href="http://www.amazon.com/Refactoring-Patterns-Joshua-Kerievsky/dp/0321213351/ref=sr_1_1?ie=UTF8&amp;qid=1365456802&amp;sr=8-1&amp;keywords=Refactoring+to+Patterns">amazon</a> ) </p><p id="___fn2" class="footnote"><sup>2</sup> <a href="http://commons.apache.org/proper/commons-io/description.html">IOUtils</a></p><p id="___fn3" class="footnote"><sup>3</sup> <a href="http://mvnrepository.com/">Maven Repository</a></p><p id="___fn4" class="footnote"><sup>4</sup> <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicInteger.html">JDK 1.7 AtomicInteger</a></p><p id="___fn5" class="footnote"><sup>5</sup> <a href="http://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html">JDK 1.7 ObjectOutputStream</a></p></body></html>